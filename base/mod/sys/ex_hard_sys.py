üöÄ 10 –°–õ–û–ñ–ù–´–• –ó–ê–î–ê–ß

üí° –£—Ä–æ–≤–µ–Ω—å ‚Äú—Ä–µ–∞–ª—å–Ω—ã–µ DevOps-—Å–∫—Ä–∏–ø—Ç—ã‚Äù: CLI-—É—Ç–∏–ª–∏—Ç—ã, –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –ª–æ–≥–∏, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥.

CLI-–ø–æ–º–æ—â–Ω–∏–∫
–°–¥–µ–ª–∞–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã:

--help ‚Üí –≤—ã–≤–æ–¥–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ

--version ‚Üí –≤—ã–≤–æ–¥–∏—Ç –≤–µ—Ä—Å–∏—é –ø—Ä–æ–≥—Ä–∞–º–º—ã

CLI-–ª–æ–≥–≥–µ—Ä
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç --log filename, –≤—Å—ë, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –≤ stdin,
–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª filename.

–ö–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
–°–∫—Ä–∏–ø—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —á–∏—Å–ª–æ (—á–µ—Ä–µ–∑ sys.argv[1]) –∏ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å —ç—Ç–∏–º –∫–æ–¥–æ–º –≤–æ–∑–≤—Ä–∞—Ç–∞.
–ü—Ä–æ–≤–µ—Ä—å —á–µ—Ä–µ–∑ $ echo $?.

–ü—Ä–æ–≤–µ—Ä–∫–∞ –û–° –∏ Python-–≤–µ—Ä—Å–∏–∏
–ï—Å–ª–∏ –û–° –Ω–µ Linux –∏–ª–∏ –≤–µ—Ä—Å–∏—è < 3.10 ‚Äî –∑–∞–≤–µ—Ä—à–∞–π —Å –æ—à–∏–±–∫–æ–π –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ–º.

–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞
–í—ã–≤–µ–¥–∏ –≤ stdout "OK", –∞ –≤ stderr "WARNING", –ø–æ—Ç–æ–º –ø—Ä–æ–≤–µ—Ä—å, –∫—É–¥–∞ —É—à—ë–ª –≤—ã–≤–æ–¥.

CLI-—Ñ–∏–ª—å—Ç—Ä
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏ —á–µ—Ä–µ–∑ stdin –∏ –≤—ã–≤–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ, –≥–¥–µ –µ—Å—Ç—å —Å–ª–æ–≤–æ "error".

CLI-–ø–∞—Ä—Å–µ—Ä –∫–æ–º–∞–Ω–¥
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:
python tool.py add 5 3 ‚Üí 8
python tool.py sub 5 3 ‚Üí 2

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
–ï—Å–ª–∏ –≤ –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö –µ—Å—Ç—å "--check", –≤—ã–≤–µ–¥–∏, —á—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—á–∞—Ç–∞;
–∏–Ω–∞—á–µ ‚Äî –≤—ã–≤–µ–¥–∏ "–û–∂–∏–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥".

–ú–∏–Ω–∏-—É—Ç–∏–ª–∏—Ç–∞ env
–ù–∞–ø–∏—à–∏ —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–æ–¥–∏—Ç –≤—Å–µ –ø—É—Ç–∏ –∏–∑ sys.path,
–Ω–æ –Ω—É–º–µ—Ä—É–µ—Ç –∏—Ö (1., 2., 3., ‚Ä¶).

CLI-healthcheck
–°–∫—Ä–∏–ø—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç --check –∏ –∏–º—è —Ñ–∞–π–ª–∞.
–ï—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí exit(0)
–ï—Å–ª–∏ –Ω–µ—Ç ‚Üí exit(1) –∏ stderr —Å–æ–æ–±—â–µ–Ω–∏–µ "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω".
